# 🌐 언어 설정 문제 해결 가이드

## 문제: 한국어 선택이 반영되지 않을 때

### ✅ 즉시 해결 방법

#### 방법 1: 브라우저 개발자 도구에서 localStorage 초기화

1. **개발 서버 실행 중인 앱에서 F12 키 누르기** (또는 우클릭 → 검사)
2. **Console 탭 선택**
3. **다음 명령어 입력 후 Enter**:
   ```javascript
   localStorage.clear()
   location.reload()
   ```
4. **페이지가 새로고침되면 언어 선택 다이얼로그가 나타남**
5. **한국어 🇰🇷 버튼 클릭**

#### 방법 2: 브라우저 Application 탭에서 직접 삭제

1. **F12 키 → Application 탭**
2. **왼쪽 메뉴: Storage → Local Storage → http://localhost:3000 선택**
3. **"language" 키 찾아서 우클릭 → Delete**
4. **페이지 새로고침 (F5 또는 Cmd+R)**

#### 방법 3: 언어 직접 설정

브라우저 Console에서:
```javascript
localStorage.setItem("language", "ko")
location.reload()
```

---

## 🔍 현재 언어 설정 확인

브라우저 Console에서:
```javascript
console.log("현재 언어:", localStorage.getItem("language"))
console.log("i18n 언어:", window.i18next?.language)
```

---

## 🧪 한국어 번역 로드 확인

브라우저 Console에서:
```javascript
// ko.json이 제대로 로드되었는지 확인
console.log("한국어 번역:", window.i18next?.getResourceBundle("ko", "translation"))

// 특정 키 번역 확인
console.log("설정 제목:", window.i18next?.t("settings.title", { lng: "ko" }))
console.log("MCP 관리:", window.i18next?.t("mcp.title", { lng: "ko" }))
```

예상 결과:
```
설정 제목: 설정
MCP 관리: MCP 관리
```

---

## 📊 i18n 디버그 모드

현재 `src/i18n/index.ts`에서 `debug: true`로 설정되어 있습니다.

**Console에서 확인할 수 있는 정보**:
- ✅ 언어 초기화 로그
- ✅ 번역 키 로드 상태
- ✅ 누락된 번역 경고
- ✅ 언어 변경 이벤트

---

## 🔧 완전 초기화 방법

모든 설정을 초기화하고 처음부터 시작:

```javascript
// 모든 localStorage 데이터 삭제
localStorage.clear()

// 캐시 삭제
if ('caches' in window) {
  caches.keys().then(keys => {
    keys.forEach(key => caches.delete(key))
  })
}

// 페이지 강제 새로고침
location.reload(true)
```

---

## 🎯 언어 선택 다이얼로그 강제 표시

언어 선택 화면을 다시 보고 싶다면:

```javascript
localStorage.removeItem("language")
location.reload()
```

---

## 📝 설정 파일 확인

### i18n 설정 파일
- **경로**: `src/i18n/index.ts`
- **현재 설정**:
  - `debug: true` (디버그 모드 활성화)
  - `fallbackLng: "en"` (기본 언어: 영어)
  - 브라우저 언어 자동 감지

### 한국어 번역 파일
- **경로**: `src/i18n/locales/ko.json`
- **크기**: 603줄 (완전한 번역)
- **포함 내용**:
  - 모든 UI 문자열
  - 설정 메뉴
  - MCP 관리
  - 튜토리얼
  - 파인만 설명

---

## ⚠️ 흔한 문제들

### 1. 언어 변경 후 일부만 한국어로 표시
**원인**: 브라우저 캐시
**해결**: Shift+F5 (강제 새로고침)

### 2. 설정에서 언어 변경이 안 됨
**원인**: localStorage 권한 문제
**해결**:
```javascript
// localStorage 쓰기 테스트
try {
  localStorage.setItem("test", "test")
  localStorage.removeItem("test")
  console.log("localStorage 작동 ✅")
} catch (e) {
  console.error("localStorage 오류:", e)
}
```

### 3. 언어 선택 다이얼로그가 계속 나타남
**원인**: localStorage에 저장 실패
**해결**: 브라우저 프라이빗 모드가 아닌지 확인

---

## 🚀 개발 서버 재시작

가장 확실한 방법:

```bash
# 현재 서버 종료 (Ctrl+C)
# 의존성 재설치
pnpm install

# 캐시 클리어
pnpm store prune

# 다시 실행
pnpm dev
```

---

## 💡 팁: 기본 언어를 한국어로 변경

`src/i18n/index.ts` 파일 8번째 줄:

```typescript
// 변경 전
const DEFAULT_LANGUAGE: "zh" | "en" | "ko" = "en";

// 변경 후 (한국어가 기본)
const DEFAULT_LANGUAGE: "zh" | "en" | "ko" = "ko";
```

이렇게 하면 브라우저 언어 감지에 실패해도 한국어가 기본으로 선택됩니다!

---

## 📞 여전히 문제가 있다면?

1. **브라우저 Console 스크린샷** 찍어서 공유
2. **다음 정보 확인**:
   ```javascript
   console.log({
     language: localStorage.getItem("language"),
     i18nLanguage: window.i18next?.language,
     hasKoTranslations: !!window.i18next?.getResourceBundle("ko", "translation"),
     sampleTranslation: window.i18next?.t("settings.title", { lng: "ko" })
   })
   ```
3. GitHub Issues에 문제 리포트

---

<div align="center">

**🌐 완벽한 한국어 지원을 위해!**

문제가 해결되면 이 가이드를 동료들과 공유해주세요! 🚀

</div>
